(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{36:function(e,t,a){},37:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(1),r=a.n(s),c=a(28),i=a.n(c),l=(a(36),a(37),a(38),a(29)),o=a(2);var d=function(){return Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("form",{children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Email address"}),Object(n.jsx)("input",{type:"email",className:"form-control",id:"exampleInputEmail1"}),Object(n.jsx)("small",{id:"emailHelp",className:"form-text text-muted",children:"We'll never share your email with anyone else."})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Password"}),Object(n.jsx)("input",{type:"password",className:"form-control",id:"exampleInputPassword1"})]}),Object(n.jsxs)("div",{className:"form-group form-check",children:[Object(n.jsx)("input",{type:"checkbox",className:"form-check-input",id:"exampleCheck1"}),Object(n.jsx)("label",{className:"form-check-label",children:"Check me out"})]}),Object(n.jsx)("a",{href:"/user-page",className:"btn btn-primary",children:"Submit"})]})})},u=a(5),h=a(6),j=a(8),m=a(7);var b=function(){return Object(n.jsxs)("ul",{className:"nav nav-tabs",children:[Object(n.jsx)("li",{className:"nav-item mx-auto",children:Object(n.jsx)("a",{href:"/user-page",children:"Your Page"})}),Object(n.jsx)("li",{className:"nav-item mx-auto",children:Object(n.jsx)("a",{href:"/meet-ups",children:"Meet-Ups"})}),Object(n.jsx)("li",{className:"nav-item mx-auto",children:Object(n.jsx)("a",{href:"/new-meet-up",children:"Post New Meet-Up"})})]})},p=a(4),x=a.n(p),g={searchGames:function(e){return x.a.get("https://www.boardgamegeek.com/xmlapi2/search?type=boardgame,boardgameexpansion&query="+e).then((function(e){console.log(e);var t=(new DOMParser).parseFromString(e.data,"text/xml");return console.log(t),t})).catch((function(e){console.log(e)})).then(console.log("Ran Search.."))},searchById:function(e){return x.a.get("https://www.boardgamegeek.com/xmlapi2/thing?id="+e).then((function(e){return(new DOMParser).parseFromString(e.data,"text/xml")}))},addGame:function(e){return console.log("Attempting to add game: "+e.title),x.a.post("/api/game",{title:e.title,bggId:e.bggId,imageString:e.imageString})},getGameByBGG:function(e){return x.a.get("/api/game/"+e)},getGameById:function(e){return x.a.get("/api/game/byId/"+e)},addUser:function(e){return x.a.post("/api/user",{username:e.userName,password:e.password})},setCurrentUser:function(e){return x.a.get("/api/user/"+e)},changeName:function(e,t){return x.a.put("/api/user/",{name:e,id:t})},addMeetup:function(e){return x.a.post("/api/meetup",{name:e.name,timeInfo:e.timeInfo,locationInfo:e.locationInfo,extraInfo:e.extraInfo,owner_id:e.ownerId})},getMeetup:function(e){return x.a.get("/api/meetup/"+e)},getMeetupByOwner:function(e){return x.a.get("/api/meetupByUser/"+e)},addUserGame:function(e){return x.a.post("/api/usergame",{userId:e.userId,gameId:e.gameId})},findUserGameByUser:function(e){return x.a.get("/api/usergame/byUser/"+e)},findUserGame:function(e){return x.a.get("/api/usergame",{userId:e.userId,gameId:e.gameId})},addUserMeetup:function(e){return x.a.post("/api/usermeetup",{meetupId:e.meetupId,attendeeId:e.attendeeId})},findUserMeetupByAttendee:function(e){return x.a.get("/api/usermeetup/byUser/"+e)},findUserMeetupByMeetup:function(e){return x.a.get("/api/usermeetup/byMeetup/"+e)}},f=function(e){return Object(n.jsxs)("div",{className:"card-container border rounded my-3 bg-dark text-white",children:[Object(n.jsx)("img",{className:"p-3",src:"https://via.placeholder.com/150",alt:e.title}),Object(n.jsxs)("div",{className:"desc p-3",children:[Object(n.jsx)("h2",{children:e.title}),Object(n.jsx)("h3",{children:e.bggId}),Object(n.jsx)("button",{className:"btn btn-primary",bggId:e.bggId,title:e.title,onClick:e.saveBtnPress,children:"Save"})]})]})};var O=function(e){return Object(n.jsx)("div",{className:"list",children:e.results.map((function(t,a){return Object(n.jsx)(f,{title:t.title,bggId:t.id,saveBtnPress:e.saveBtnPress},a)}))})},v=function(e){Object(j.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){console.log("Library Mounted")},n.state={},n}return Object(h.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"library",children:Object(n.jsxs)("table",{className:"table",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:"#"}),Object(n.jsx)("th",{scope:"col",children:"Game"})]})}),Object(n.jsx)("tbody",{children:this.props.library.map((function(e,t){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"row",children:t+1}),Object(n.jsx)("td",{children:e})]})}))})]})})}}]),a}(s.Component),y=function(e){Object(j.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){console.log("COMPONENTDIDMOUNT"),g.findUserGameByUser(n.state.currentUser).then((function(e){console.log(e);for(var t=[],a=0;a<e.data.length;a++)g.getGameById(e.data[a].game_id).then((function(e){t.push(e.data.title),console.log(t),n.setState({library:t})}))}))},n.handleFieldChange=function(e){n.setState({searchField:e.target.value})},n.handleNameChange=function(e){n.setState({nameField:e.target.value})},n.handleNameChangeSubmit=function(){""!==n.state.nameField&&(g.changeName(n.state.nameField,n.state.currentUser),n.setState({greenAlert:"col-12 alert alert-success invisible"}))},n.handleGameSearch=function(){g.searchGames(n.state.searchField).then((function(e){console.log("Searched successfully");for(var t=[],a=1;a<20;a+=2){console.log(e.childNodes[0].childNodes[a]);var s=e.childNodes[0].childNodes[a].childNodes[1].getAttribute("value"),r=e.childNodes[0].childNodes[a].getAttribute("id");t.push({title:s,id:r}),n.setState({gamesSearched:t})}}))},n.saveBtnPress=function(e){var t=e.target.getAttribute("bggid"),a=e.target.getAttribute("title"),s=n.state.currentUser;console.log("You clicked a save button with bggId: "+t);var r=n.state.library;r.push(a),g.addGame({title:a,bggId:t,imageString:"https://via.placeholder.com/150"}).then((function(e){n.setState({library:r}),g.addUserGame({userId:s,gameId:e.data.id})}))},n.state={nameField:"",searchField:"",gamesSearched:[],currentUser:1,library:[],greenAlert:"col-12 alert alert-success invisible"},n}return Object(h.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)(b,{}),Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col-12 text-center",children:[Object(n.jsx)("h1",{children:"Welcome to bgg-tracker"}),Object(n.jsx)("h3",{children:"Edit your Name and Collection here"})]}),Object(n.jsx)("div",{className:this.state.greenAlert,role:"alert",children:"Changed your name successfully!"}),Object(n.jsx)("br",{}),Object(n.jsx)("h4",{className:"text-center",children:"Display Name Change"}),Object(n.jsxs)("div",{className:"input-group mb-4 text-center",children:[Object(n.jsx)("input",{onChange:this.handleNameChange,type:"text",className:"form-control"}),Object(n.jsx)("div",{className:"input-group-append",children:Object(n.jsx)("button",{onClick:this.handleNameChangeSubmit,className:"btn btn-primary text-white btn-outline-secondary",type:"submit",children:"Update"})})]}),Object(n.jsx)("br",{}),Object(n.jsxs)("div",{className:"col-12",children:[Object(n.jsx)("h2",{children:"Your Current Library"}),Object(n.jsx)(v,{library:this.state.library})]}),Object(n.jsx)("br",{}),Object(n.jsx)("h4",{className:"mt-5",children:"Search"}),Object(n.jsxs)("div",{className:"input-group",children:[Object(n.jsx)("input",{type:"text",onChange:this.handleFieldChange,className:"form-control"}),Object(n.jsx)("div",{className:"input-group-append",children:Object(n.jsx)("button",{className:"btn text-white btn-success btn-outline-secondary",type:"submit",onClick:this.handleGameSearch,children:"Search"})})]}),Object(n.jsx)(O,{results:this.state.gamesSearched,saveBtnPress:this.saveBtnPress})]})})]})}}]),a}(s.Component),I=function(e){Object(j.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).openMeetupInfo=function(){localStorage.setItem("meetupName",e.props.name),localStorage.setItem("ownerId",e.props.ownerId),localStorage.setItem("timeInfo",e.props.timeInfo),localStorage.setItem("locationInfo",e.props.locationInfo),localStorage.setItem("extraInfo",e.props.extraInfo),localStorage.setItem("currentUser",e.props.currentUser),localStorage.setItem("thisMeetId",e.props.thisMeetId),window.open("/meetup-info","_blank")},e}return Object(h.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"row justify-content-center border bg-primary rounded my-4",children:Object(n.jsxs)("div",{onClick:this.renderModal,className:"col-9 bg-secondary border rounded my-3",children:[Object(n.jsx)("h2",{children:this.props.name}),Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:this.props.timeInfo}),Object(n.jsx)("li",{children:this.props.locationInfo}),Object(n.jsx)("li",{children:this.props.extraInfo})]}),Object(n.jsx)("button",{onClick:this.openMeetupInfo,className:"btn btn-info text-white mb-3",children:"Details Page"})]})})}}]),a}(s.Component),N=function(e){Object(j.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){console.log("MeetupPage did mount."),g.getMeetupByOwner(n.state.currentUser).then((function(e){console.log("Did Mount Results"),console.log(e),n.setState({displayedMeets:e.data})}))},n.state={displayedMeets:[],typeToDisplay:"Your Owned Meets",currentUser:1},n}return Object(h.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{children:[Object(n.jsx)(b,{}),Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-12 text-center mb-5",children:[Object(n.jsx)("h1",{children:"View all of your meetups!"}),Object(n.jsx)("h3",{children:"Looking for a certain meetup? Try searching!"})]})}),Object(n.jsx)("div",{className:"row justify-content-center",children:Object(n.jsxs)("div",{children:[Object(n.jsxs)("h2",{children:["Now showing: ",this.state.typeToDisplay]}),this.state.displayedMeets.map((function(t,a){return Object(n.jsx)(I,{name:t.meetup_name,ownerId:t.owner_id,timeInfo:t.time_info,locationInfo:t.location_info,extraInfo:t.extra_info,currentUser:e.state.currentUser,thisMeetId:t.id},a)}))]})})]})]})}}]),a}(s.Component),w=function(e){Object(j.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleTitleUpdate=function(e){n.setState({titleField:e.target.value})},n.handleTimeUpdate=function(e){n.setState({timeField:e.target.value})},n.handleLocationUpdate=function(e){n.setState({locationField:e.target.value})},n.handleExtraUpdate=function(e){n.setState({extraField:e.target.value})},n.addNewMeetup=function(){if(""===n.state.titleField||""===n.state.timeField||""===n.state.locationField||""===n.state.extraField)n.setState({redAlert:"col-12 my-3 alert alert-danger visible"});else{var e=n.state.titleField,t=n.state.timeField,a=n.state.locationField,s=n.state.extraField,r=n.state.currentUser;g.addMeetup({name:e,timeInfo:t,locationInfo:a,extraInfo:s,ownerId:r}).then((function(e){console.log(e),n.setState({redAlert:"col-12 alert alert-danger invisible"}),n.setState({greenAlert:"col-12 alert alert-success visible"}),n.setState({titleField:""}),n.setState({timeField:""}),n.setState({locationField:""}),n.setState({extraField:""})}))}},n.textInput=r.a.createRef(),n.state={titleField:"",timeField:"",locationField:"",extraField:"",currentUser:1,redAlert:"col-12 alert alert-danger invisible",greenAlert:"col-12 alert alert-success invisible"},n}return Object(h.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)(b,{}),Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-12 text-center",children:[Object(n.jsx)("h1",{children:"Post a New Meetup"}),Object(n.jsx)("h3",{children:"Enter all the information your guests need about your gathering"}),Object(n.jsx)("h4",{children:"Make sure your guests know what name to search for to rsvp!"})]})}),Object(n.jsxs)("div",{className:"row justify-content-center",children:[Object(n.jsx)("div",{className:this.state.greenAlert,role:"alert",children:"Added your Meetup Successfully!"}),Object(n.jsx)("h4",{className:"col-12",children:"Meetup Title"}),Object(n.jsx)("input",{id:"meetup-title",maxLength:"255",ref:this.textInput,value:this.state.titleField,onChange:this.handleTitleUpdate,type:"text",className:"form-control"}),Object(n.jsx)("h4",{className:"col-12",children:"Time Info"}),Object(n.jsx)("input",{id:"time-input",maxLength:"255",ref:this.textInput,value:this.state.timeField,onChange:this.handleTimeUpdate,type:"text",className:"form-control"}),Object(n.jsx)("h4",{className:"col-12",children:"Location Info"}),Object(n.jsx)("input",{id:"location-input",maxLength:"255",ref:this.textInput,value:this.state.locationField,onChange:this.handleLocationUpdate,type:"text",className:"form-control"}),Object(n.jsx)("h4",{className:"col-12",children:"Extra Info"}),Object(n.jsx)("input",{id:"extra-input",maxLength:"255",ref:this.textInput,value:this.state.extraField,onChange:this.handleExtraUpdate,type:"text",className:"form-control"}),Object(n.jsx)("div",{className:this.state.redAlert,role:"alert",children:"Make sure you leave no fields empty."}),Object(n.jsx)("div",{className:"input-group-append my-3 align-center",children:Object(n.jsx)("button",{className:"btn btn-primary text-white btn-outline-secondary",onClick:this.addNewMeetup,type:"submit",children:"Add Meetup"})})]})]})]})}}]),a}(s.Component),S=function(e){Object(j.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){console.log("Att library Mounted"),g.setCurrentUser(n.props.attId).then((function(e){n.setState({name:e.data.name})}));var e=[];g.findUserGameByUser(n.props.attId).then((function(t){for(var a=0;a<t.data.length;a++)g.getGameById(t.data[a].game_id).then((function(t){e.push(t.data)}))})),console.log(e),setTimeout((function(){n.setState({gamesArray:e})}),1e3),n.setState({gamesArray:e})},n.state={name:"",gamesArray:[]},n}return Object(h.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"library",children:[Object(n.jsxs)("h3",{children:[this.state.name," is bringing..."]}),Object(n.jsx)("div",{className:"library",children:Object(n.jsxs)("table",{className:"table",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:"#"}),Object(n.jsx)("th",{scope:"col",children:"Game"})]})}),Object(n.jsx)("tbody",{children:this.state.gamesArray.map((function(e,t){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"row",children:t+1}),Object(n.jsx)("td",{children:e.title})]})}))})]})})]})}}]),a}(s.Component),M=function(e){Object(j.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){console.log("MeetupInfo Mounted with the following state..."),console.log(n.state),g.setCurrentUser(n.state.ownerId).then((function(e){console.log(e),n.setState({ownerName:e.data.name})})),g.findUserGameByUser(n.state.ownerId).then((function(e){console.log(e.data);for(var t=[],a=0;a<e.data.length;a++)g.getGameById(e.data[a].game_id).then((function(e){t.push(e.data.title),n.setState({ownerCollection:t})}))})),g.findUserMeetupByMeetup(n.state.thisMeetId).then((function(e){var t=[];e.data.forEach((function(e){t.push(e.attendee_id)})),n.setState({attendees:t})}))},n.handleRSVP=function(){g.addUserMeetup({meetupId:n.state.thisMeetId,attendeeId:n.state.currentUser}).then((function(e){console.log("Added usermeetup association"),console.log(e.data)}))},n.state={name:localStorage.meetupName,ownerId:localStorage.ownerId,timeInfo:localStorage.timeInfo,locationInfo:localStorage.locationInfo,extraInfo:localStorage.extraInfo,currentUser:localStorage.currentUser,thisMeetId:localStorage.thisMeetId,ownerName:"",attendees:[],ownerCollection:[]},n}return Object(h.a)(a,[{key:"render",value:function(){var e=[];return this.state.attendees.forEach((function(t){e.push(Object(n.jsx)(S,{attId:t}))})),Object(n.jsxs)("div",{children:[Object(n.jsx)(b,{}),Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-12 text-center my-5 border rounded text-white bg-secondary",children:[Object(n.jsxs)("h1",{children:["Meetup: ",this.state.name]}),Object(n.jsxs)("h2",{children:["This meetup created by ",this.state.ownerName]}),Object(n.jsxs)("ul",{children:[Object(n.jsxs)("p",{className:"bg-dark rounded",children:["Time: ",this.state.timeInfo]}),Object(n.jsxs)("p",{className:"bg-dark rounded",children:["Location: ",this.state.locationInfo]}),Object(n.jsxs)("p",{className:"bg-dark rounded",children:["Information: ",this.state.extraInfo]})]})]})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-12",children:[Object(n.jsxs)("h3",{children:[this.state.ownerName," is bringing..."]}),Object(n.jsx)(v,{library:this.state.ownerCollection}),e]})}),Object(n.jsx)("div",{className:"row justify-content-center",children:Object(n.jsx)("button",{onClick:this.handleRSVP,className:"btn btn-primary",children:"RSVP"})})]})]})}}]),a}(s.Component);var U=function(){return Object(n.jsx)(l.a,{children:Object(n.jsxs)(o.c,{children:[Object(n.jsx)(o.a,{path:"/user-page",children:Object(n.jsx)(y,{})}),Object(n.jsx)(o.a,{path:"/meet-ups",children:Object(n.jsx)(N,{})}),Object(n.jsx)(o.a,{path:"/new-meet-up",children:Object(n.jsx)(w,{})}),Object(n.jsx)(o.a,{path:"/meetup-info",children:Object(n.jsx)(M,{})}),Object(n.jsx)(o.a,{path:"/",children:Object(n.jsx)(d,{})})]})})};i.a.render(Object(n.jsx)(U,{}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.c24a904a.chunk.js.map